---
import BaseHead    from "../components/BaseHead.astro";
import Header      from "../components/Header.astro";
import Footer      from "../components/Footer.astro";
import Tiles       from "../components/tiles.astro";
import InitCal     from "../components/InitCal.astro";
import InitSubscr  from "../components/InitSubscr.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import { Icon }    from "astro-icon/components";
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body class="layout">
    <div class="background-wrapper">
      <main>
        <Header />

        <Tiles>
          <div class="tile">
            <h3>Identify → Clarify → Cut waste → Coach for Change</h3>
            <p class="details">Details...</p>
          </div>
          <div class="tile">
            <h3>Advanced Data Analysis</h3>
            <p class="details">Multivariable analysis. Data mining. Python. ...</p>
          </div>
          <div class="tile">
            <h3>Automating work</h3>
            <p class="details">Details...</p>
          </div>
          <div class="tile">
            <h3>Creating joyful work processes & UI</h3>
            <p class="details">Details...</p>
          </div>
          <div class="tile">
            <h3>Design & 3D-modelling & 3D-printing</h3>
            <p class="details">Details...</p>
          </div>
          <div class="tile">
            <h3>Teaching & Technical documentation</h3>
            <p class="details">Details...</p>
          </div>

        </Tiles>

        <!-- First table -->
        <table class="socials-table">
          <thead>
            <tr>
              <th><h2>Contact</h2></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a
                  href="mailto:terese@t1grid.com"
                  class="social-entry"
                  aria-label="Email me"
                >
                  <Icon name="mdi:email" width="24" height="24" />
                  <span>terese@t1grid.com</span>
                </a>
              </td>
            </tr>
            <tr>
              <td>
                <a
                  href="tel:+46709800525"
                  class="social-entry"
                  aria-label="Call me"
                >
                  <Icon name="mdi:phone" width="24" height="24" />
                  <span>+46 709 800 525</span>
                </a>
              </td>
            </tr>
            <tr>
              <td>
                <a href="#" class="social-entry" data-cal-link="teresew/intro" data-cal-namespace="intro" data-cal-config='{"layout":"month_view"}' aria-label="Book meeting">
                  <Icon name="mdi:calendar-clock" width="24" height="24" />
                  <span>Book a meeting</span>
                </a>
              </td>
            </tr>
          </tbody>
        </table>

        <!-- Second table -->
        <table class="socials-table">
          <thead>
            <tr>
              <th><h2>Follow</h2></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <!-- ← Now *this* has the ID InitSubscr is looking for -->
                <a href="#" id="open-subscribe" class="social-entry" aria-label="Subscribe to newsletter">
                  <Icon name="mdi:bell-ring" width="24" height="24" />
                  <span>Newsletter</span>
                </a>
              </td>
            </tr>
            <tr>
              <td>
                <a href="https://www.linkedin.com/in/teresewahlstrom" target="_blank" rel="noopener" class="social-entry" aria-label="Connect on LinkedIn">
                  <Icon name="mdi:linkedin" width="24" height="24" />
                  <span>LinkedIn</span>
                </a>
              </td>
            </tr>
          </tbody>
        </table>
        <br/>
        <br/>

        <!-- now that #open-subscribe exists in the DOM, InitSubscr will wire it up -->
        <InitSubscr />
      </main>
    </div>

    <!-- Cal embed init must remain after your links -->
    <InitCal />

    <Footer />
  </body>
</html>

<style>
  .cal-link {
    display: inline-block;
    pointer-events: auto;
  }
  .cal-link svg {
    pointer-events: none;
  }
</style>