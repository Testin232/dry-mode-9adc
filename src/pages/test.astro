---
---
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Cal.com Icon Embed Test</title>
    <!-- 1. Embed-loader snippet -->
    <script type="module">
      (function (C, A, L) {
        let p = (a, ar) => a.q.push(ar);
        let d = C.document;
        C.Cal = C.Cal || function () {
          let cal = C.Cal, ar = arguments;
          if (!cal.loaded) {
            cal.ns = {};
            cal.q = cal.q || [];
            let s = d.createElement("script");
            s.src = A;
            d.head.appendChild(s);
            cal.loaded = true;
          }
          if (ar[0] === L) {
            const api = () => p(api, arguments);
            const ns = ar[1];
            api.q = api.q || [];
            if (typeof ns === "string") {
              cal.ns[ns] = cal.ns[ns] || api;
              p(cal.ns[ns], ar);
              p(cal, ["initNamespace", ns]);
            } else {
              p(cal, ar);
            }
            return;
          }
          p(cal, ar);
        };
      })(window, "https://app.cal.com/embed/embed.js", "init");

      // 2. Initialize Cal and "intro" namespace
      Cal("init", { origin: "https://cal.com" });
      Cal("init", "intro");
      Cal.ns.intro("ui", {
        layout: "month_view",
        hideEventTypeDetails: false
      });

      // 3. Debug logging
      console.log("Cal loaded?", window.Cal, window.Cal.ns?.intro);
    </script>
  </head>
  <body style="font-family: sans-serif; padding: 2rem;">
    <h1>Click the calendar to test</h1>
    <p>If you get the calendar pop-up, your snippet is correct.</p>

    <!-- 4. The icon link -->
    <a
      href="#"
      id="cal-icon"
      data-cal-link="teresew/intro"
      data-cal-namespace="intro"
      data-cal-config='{"layout":"month_view"}'
      style="font-size: 3rem; text-decoration: none; display: inline-block; cursor: pointer;"
    >
      üìÖ
    </a>

    <!-- 5. Click listener with null check -->
    <script type="module">
      const el = document.getElementById("cal-icon");
      if (el) {
        el.addEventListener("click", () => console.log("Icon clicked!"));
      }
    </script>
  </body>
</html>

---
---
<script type="text/javascript">
  (function (C, A, L) {
    let p = function (a, ar) { a.q.push(ar); };
    let d = C.document;
    C.Cal = C.Cal || function () {
      let cal = C.Cal, ar = arguments;
      if (!cal.loaded) {
        cal.ns = {};
        cal.q = cal.q || [];
        let s = d.createElement("script");
        s.src = A;
        d.head.appendChild(s);
        cal.loaded = true;
      }
      if (ar[0] === L) {
        const api = function () { p(api, arguments); };
        const namespace = ar[1];
        api.q = api.q || [];
        if (typeof namespace === "string") {
          cal.ns[namespace] = cal.ns[namespace] || api;
          p(cal.ns[namespace], ar);
          p(cal, ["initNamespace", namespace]);
        } else {
          p(cal, ar);
        }
        return;
      }
      p(cal, ar);
    };
  })(window, "https://app.cal.com/embed/embed.js", "init");

  // 1) Set your account origin
  Cal("init", { origin: "https://cal.com" });

  // 2) Initialize and configure your ‚Äúintro‚Äù namespace
  Cal("init", "intro");
  Cal.ns.intro("ui", {
    layout: "month_view",
    hideEventTypeDetails: false
  });
</script>
